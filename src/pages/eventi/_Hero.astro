---
//const VIDEO_SRC = "/assets/video/catering_720p.webm";
const VIDEO_SRC = "/assets/video/eventi-portada-720.webm";
const VIDEO_SRC2 = "/assets/video/eventi-portada-720.mp4";
---

<section class="h-[100vh]">
  <div class="sticky top-0 h-screen overflow-hidden">

    <!-- Video -->
    <div class="absolute inset-0 flex items-center justify-center">
      <div class="relative h-[100vh] w-[100vw] overflow-hidden shadow-2xl">
        <video
          id="hero-eventi-video"
          class="absolute inset-0 min-w-full min-h-full h-full w-full object-cover"
          autoplay
          preload="auto"
          muted
          playsinline
          loop
          poster="/assets/fotos/hero/eventi-portada-cover.webp"
          aria-label="Video di presentazione degli eventi La Casona Group: allestimenti, catering in azione, staff al lavoro, location eleganti e momenti autentici durante cerimonie e feste."
        >
        <!-- WebM primero -->
         <source src={VIDEO_SRC} type="video/webm" />
         <!-- Fallback universal -->
        <source src={VIDEO_SRC2} type="video/mp4" />
        </video>
      </div>

      <!-- Overlay negro -->
      <div class="absolute inset-0 bg-black/55 z-20"></div>
    </div>

    <!-- Slogan -->
    <div class="absolute inset-0 flex items-center justify-center z-30 p-2 md:p-24">
      <div class="text-center">
        <h1 class="text-xl sm:text-2xl md:text-4xl font-extrabold tracking-tight text-white drop-shadow-[0_8px_24px_rgba(0,0,0,0.45)]">
          Eventi a <span class="text-amarillo">360Â°</span>
        </h1>
        <p class="mt-4 text-white/90 font-regular text-md sm:text-xl md:text-2xl">
          Esperienza, cura totale e zero pensieri <strong class="text-amarillo">per te</strong>
        </p>
      </div>
    </div>

    <!-- DirecciÃ³n -->
    <div class="absolute bottom-28 sm:bottom-6 inset-x-0 flex justify-center px-4 sm:px-8 text-white z-30">
      <div class="flex items-center gap-3 sm:gap-4 py-2 sm:py-4 text-center">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-pin-icon lucide-map-pin w-6 h-6 sm:w-7 sm:h-7" fill="currentColor"><path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"/><circle cx="12" cy="10" r="3"/>
        </svg>
        <span class="text-xs sm:text-sm md:text-md font-normal">
          Via Matteotti, 39/B | Sala Bolognese (BO)
        </span>
      </div>
    </div>

  </div>
</section>


<!-- Script SOLO cliente >
<script>
  const video = document.querySelector<HTMLVideoElement>("#hero-eventi-video");

  if (video) {
    video.muted = true;

    const startVideo = () => {
      video.play().catch(() => {
        // Reintento suave (Firefox)
        setTimeout(() => {
          video.play().catch(() => {});
        }, 300);
      });
    };

    // ðŸ”‘ CLAVE: esperar a que Firefox diga "puedo reproducir"
    if (video.readyState >= 3) {
      startVideo();
    } else {
      video.addEventListener("canplay", startVideo, { once: true });
    }
  }
</script-->